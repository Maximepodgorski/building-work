@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: 0 0 0;
    --color-secondary: 107 114 128;
    --color-background: 255 255 255;
    --color-background-light: 249 250 251;
    --color-accent-positive: 16 185 129;
    --color-accent-negative: 239 68 68;
  }

  * {
    @apply border-gray-200;
  }

  body {
    @apply bg-background text-primary font-sans antialiased;
  }

  /* Accessibility: visible focus indicators */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary ring-offset-2;
  }

  /* Respect prefers-reduced-motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer components {
  /* Touch target minimum size enforcement */
  .touch-target {
    @apply min-h-touch min-w-touch;
  }

  /* Gamified button animations */
  .btn-gamified {
    @apply transition-all duration-200 ease-out;
  }

  .btn-gamified:hover:not(:disabled) {
    @apply scale-105 shadow-lg;
  }

  .btn-gamified:active:not(:disabled) {
    @apply scale-95;
  }

  /* Answer option states */
  .answer-option {
    @apply transition-all duration-200;
  }

  .answer-option-selected-correct {
    @apply bg-vibrant-green text-white border-vibrant-green scale-105;
  }

  .answer-option-selected-incorrect {
    @apply border-vibrant-red;
  }

  .answer-option-correct-answer {
    @apply bg-vibrant-green/10 border-vibrant-green;
  }

  /* Gradient fallbacks - browsers that don't support gradients will use solid colors */
  @supports not (background: linear-gradient(135deg, #7C3AED 0%, #3B82F6 100%)) {
    .bg-gradient-purple-blue { @apply bg-vibrant-purple; }
    .bg-gradient-orange-red { @apply bg-vibrant-orange; }
    .bg-gradient-green-teal { @apply bg-vibrant-green; }
    .bg-gradient-pink-purple { @apply bg-vibrant-pink; }
    .bg-gradient-celebration { @apply bg-vibrant-purple; }
  }

  /* Playful spring/bounce animations for functional feedback */
  @keyframes spring-press {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(0.95);
    }
    100% {
      transform: scale(1);
    }
  }

  @keyframes bounce-shake {
    0%, 100% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(-8px);
    }
    50% {
      transform: translateX(8px);
    }
    75% {
      transform: translateX(-4px);
    }
  }

  @keyframes spring-bg-fill {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(1.05);
      opacity: 1;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  .animate-spring-press {
    animation: spring-press 150ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-bounce-shake {
    animation: bounce-shake 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .animate-spring-fill {
    animation: spring-bg-fill 200ms cubic-bezier(0.34, 1.56, 0.64, 1);
  }
}
